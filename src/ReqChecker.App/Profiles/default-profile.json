{
  "id": "00000001-0000-0000-0000-000000000001",
  "name": "Default Environment Readiness Profile",
  "schemaVersion": 3,
  "source": "Bundled",
  "runSettings": {
    "defaultTimeout": 30000,
    "defaultRetryCount": 3,
    "retryBackoff": "Exponential",
    "adminBehavior": "SkipWithReason"
  },
  "tests": [
    {
      "id": "test-001",
      "type": "Ping",
      "displayName": "Check Network Connectivity",
      "description": "Pings a well-known host to verify internet connectivity.",
      "parameters": {
        "host": "8.8.8.8",
        "timeout": 5000,
        "ttl": 64
      },
      "fieldPolicy": {
        "host": "Editable",
        "timeout": "Editable",
        "ttl": "Hidden"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-002",
      "type": "HttpGet",
      "displayName": "Check HTTP Endpoint",
      "description": "Performs a GET request to verify HTTP connectivity.",
      "parameters": {
        "url": "https://www.example.com",
        "expectedStatusCodes": [200],
        "headers": {},
        "validateSsl": true
      },
      "fieldPolicy": {
        "url": "Editable",
        "expectedStatusCodes": "Editable",
        "headers": "Editable",
        "validateSsl": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": ["test-001"]
    },
    {
      "id": "test-003",
      "type": "FileExists",
      "displayName": "Check Required File",
      "description": "Verifies that a required configuration file exists.",
      "parameters": {
        "path": "C:\\Windows\\System32\\drivers\\etc\\hosts"
      },
      "fieldPolicy": {
        "path": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-004",
      "type": "DirectoryExists",
      "displayName": "Check Required Directory",
      "description": "Verifies that a required directory exists.",
      "parameters": {
        "path": "C:\\Program Files"
      },
      "fieldPolicy": {
        "path": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-005",
      "type": "ProcessList",
      "displayName": "Check Running Processes",
      "description": "Verifies that specific processes are running.",
      "parameters": {
        "processNames": ["explorer", "svchost"],
        "matchAll": false
      },
      "fieldPolicy": {
        "processNames": "Editable",
        "matchAll": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-006",
      "type": "RegistryRead",
      "displayName": "Check Registry Key",
      "description": "Verifies that a registry key exists and has the expected value.",
      "parameters": {
        "keyPath": "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion",
        "valueName": "ProductName",
        "expectedValue": null
      },
      "fieldPolicy": {
        "keyPath": "Editable",
        "valueName": "Editable",
        "expectedValue": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-007",
      "type": "TcpPortOpen",
      "displayName": "Check TCP Port Connectivity",
      "description": "Verifies that a specific host:port is reachable via TCP handshake.",
      "parameters": {
        "host": "www.example.com",
        "port": 443,
        "connectTimeout": 5000
      },
      "fieldPolicy": {
        "host": "Editable",
        "port": "Editable",
        "connectTimeout": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": ["test-001"]
    },
    {
      "id": "test-008",
      "type": "UdpPortOpen",
      "displayName": "Check UDP Port Connectivity (DNS)",
      "description": "Verifies that a UDP port is reachable by sending a datagram and waiting for a response. Tests DNS connectivity to Google DNS.",
      "parameters": {
        "host": "8.8.8.8",
        "port": 53,
        "timeout": 5000,
        "payload": "00010100000100000000000003777777076578616d706c6503636f6d0000010001",
        "expectedResponse": "",
        "encoding": "hex"
      },
      "fieldPolicy": {
        "host": "Editable",
        "port": "Editable",
        "timeout": "Editable",
        "payload": "Hidden",
        "expectedResponse": "Hidden",
        "encoding": "Hidden"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-009",
      "type": "UdpPortOpen",
      "displayName": "Check UDP DNS (Cloudflare)",
      "description": "Verifies UDP connectivity to Cloudflare DNS server using a DNS A-record query for google.com.",
      "parameters": {
        "host": "1.1.1.1",
        "port": 53,
        "timeout": 3000,
        "payload": "abcd0100000100000000000006676f6f676c6503636f6d0000010001",
        "expectedResponse": "",
        "encoding": "hex"
      },
      "fieldPolicy": {
        "host": "Editable",
        "port": "Editable",
        "timeout": "Editable",
        "payload": "Hidden",
        "expectedResponse": "Hidden",
        "encoding": "Hidden"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-010",
      "type": "UdpPortOpen",
      "displayName": "Check UDP NTP Server",
      "description": "Verifies UDP connectivity to a public NTP time server by sending an NTP client request packet.",
      "parameters": {
        "host": "time.windows.com",
        "port": 123,
        "timeout": 5000,
        "payload": "1b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "expectedResponse": "",
        "encoding": "hex"
      },
      "fieldPolicy": {
        "host": "Editable",
        "port": "Editable",
        "timeout": "Editable",
        "payload": "Hidden",
        "expectedResponse": "Hidden",
        "encoding": "Hidden"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-011",
      "type": "UdpPortOpen",
      "displayName": "Check UDP Port (Expect Timeout)",
      "description": "Tests timeout behavior by targeting a high port unlikely to have a listener. Expected to fail with timeout.",
      "parameters": {
        "host": "127.0.0.1",
        "port": 59999,
        "timeout": 1000,
        "payload": "",
        "expectedResponse": "",
        "encoding": "auto"
      },
      "fieldPolicy": {
        "host": "Editable",
        "port": "Editable",
        "timeout": "Editable",
        "payload": "Hidden",
        "expectedResponse": "Hidden",
        "encoding": "Hidden"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-012",
      "type": "DiskSpace",
      "displayName": "Check Disk Space",
      "description": "Verifies that a drive or mount point has at least a specified amount of free space.",
      "parameters": {
        "path": "C:\\",
        "minimumFreeGB": 10.0
      },
      "fieldPolicy": {
        "path": "Editable",
        "minimumFreeGB": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-013",
      "type": "MtlsConnect",
      "displayName": "mTLS — badssl.com (Happy Path)",
      "description": "Verifies mTLS client certificate authentication against badssl.com's test endpoint. Download PFX from https://badssl.com/certs/badssl.com-client.p12 (password: badssl.com).",
      "parameters": {
        "url": "https://client.badssl.com/",
        "clientCertPath": "C:\\temp\\badssl.com-client.p12",
        "pfxPassword": "badssl.com",
        "expectedStatus": 200,
        "timeout": 15000,
        "skipServerCertValidation": false
      },
      "fieldPolicy": {
        "url": "Editable",
        "clientCertPath": "Editable",
        "pfxPassword": "Editable",
        "expectedStatus": "Editable",
        "timeout": "Editable",
        "skipServerCertValidation": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": ["test-001"]
    },
    {
      "id": "test-014",
      "type": "MtlsConnect",
      "displayName": "mTLS — File Not Found (Error Path)",
      "description": "Tests the file-not-found error path by pointing to a non-existent PFX file. Expected to fail with a configuration error.",
      "parameters": {
        "url": "https://client.badssl.com/",
        "clientCertPath": "C:\\temp\\does-not-exist.pfx",
        "expectedStatus": 200,
        "timeout": 15000,
        "skipServerCertValidation": false
      },
      "fieldPolicy": {
        "url": "Editable",
        "clientCertPath": "Editable",
        "expectedStatus": "Editable",
        "timeout": "Editable",
        "skipServerCertValidation": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-015",
      "type": "MtlsConnect",
      "displayName": "mTLS — Skip Server Cert Validation",
      "description": "Tests mTLS with server certificate validation skipped. Uses badssl.com client cert endpoint.",
      "parameters": {
        "url": "https://client.badssl.com/",
        "clientCertPath": "C:\\temp\\badssl.com-client.p12",
        "pfxPassword": "badssl.com",
        "expectedStatus": 200,
        "timeout": 15000,
        "skipServerCertValidation": true
      },
      "fieldPolicy": {
        "url": "Editable",
        "clientCertPath": "Editable",
        "pfxPassword": "Editable",
        "expectedStatus": "Editable",
        "timeout": "Editable",
        "skipServerCertValidation": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": ["test-001"]
    },
    {
      "id": "test-016",
      "type": "MtlsConnect",
      "displayName": "mTLS — Wrong Status (Validation Fail)",
      "description": "Tests status mismatch error path by expecting 201 from an endpoint that returns 200.",
      "parameters": {
        "url": "https://client.badssl.com/",
        "clientCertPath": "C:\\temp\\badssl.com-client.p12",
        "pfxPassword": "badssl.com",
        "expectedStatus": 201,
        "timeout": 15000,
        "skipServerCertValidation": false
      },
      "fieldPolicy": {
        "url": "Editable",
        "clientCertPath": "Editable",
        "pfxPassword": "Editable",
        "expectedStatus": "Editable",
        "timeout": "Editable",
        "skipServerCertValidation": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": ["test-001"]
    },
    {
      "id": "test-017",
      "type": "CertificateExpiry",
      "displayName": "Check TLS Certificate — www.google.com",
      "description": "Verifies the TLS certificate on www.google.com:443 is valid and does not expire within 30 days.",
      "parameters": {
        "host": "www.google.com",
        "port": 443,
        "warningDaysBeforeExpiry": 30,
        "timeout": 10000,
        "skipChainValidation": false,
        "expectedSubject": null,
        "expectedIssuer": null,
        "expectedThumbprint": null
      },
      "fieldPolicy": {
        "host": "Editable",
        "port": "Editable",
        "warningDaysBeforeExpiry": "Editable",
        "timeout": "Editable",
        "skipChainValidation": "Editable",
        "expectedSubject": "Editable",
        "expectedIssuer": "Editable",
        "expectedThumbprint": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": ["test-001"]
    },
    {
      "id": "test-018",
      "type": "CertificateExpiry",
      "displayName": "Check TLS Certificate — expired.badssl.com (Expected Fail)",
      "description": "Tests the expired certificate detection path using badssl.com's known-expired endpoint. Expected to fail with a Validation error.",
      "parameters": {
        "host": "expired.badssl.com",
        "port": 443,
        "warningDaysBeforeExpiry": 30,
        "timeout": 10000,
        "skipChainValidation": true,
        "expectedSubject": null,
        "expectedIssuer": null,
        "expectedThumbprint": null
      },
      "fieldPolicy": {
        "host": "Editable",
        "port": "Editable",
        "warningDaysBeforeExpiry": "Editable",
        "timeout": "Editable",
        "skipChainValidation": "Editable",
        "expectedSubject": "Editable",
        "expectedIssuer": "Editable",
        "expectedThumbprint": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-019",
      "type": "OsVersion",
      "displayName": "Check Windows Version",
      "description": "Reports the local machine's Windows version, build number, and architecture. Configure minimumBuild or expectedVersion to enforce requirements.",
      "parameters": {
        "minimumBuild": null,
        "expectedVersion": null
      },
      "fieldPolicy": {
        "minimumBuild": "Editable",
        "expectedVersion": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-020",
      "type": "OsVersion",
      "displayName": "Check Windows Minimum Build (19045)",
      "description": "Verifies that the OS build number is at least 19045 (Windows 10 22H2). Fails on older builds.",
      "parameters": {
        "minimumBuild": 19045,
        "expectedVersion": null
      },
      "fieldPolicy": {
        "minimumBuild": "Editable",
        "expectedVersion": "Hidden"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    },
    {
      "id": "test-021",
      "type": "OsVersion",
      "displayName": "Check Exact Windows Version (10.0.22631)",
      "description": "Verifies that the OS version is exactly 10.0.22631 (Windows 11 23H2). Fails on any other version.",
      "parameters": {
        "minimumBuild": null,
        "expectedVersion": "10.0.22631"
      },
      "fieldPolicy": {
        "minimumBuild": "Hidden",
        "expectedVersion": "Editable"
      },
      "timeout": null,
      "retryCount": null,
      "requiresAdmin": false,
      "dependsOn": []
    }
  ],
  "signature": null
}
